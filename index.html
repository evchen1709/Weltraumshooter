<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weltraum Shooter</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- Manifest und PWA-Meta -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icons/icon-192x192.svg">
    <link rel="icon" type="image/svg+xml" sizes="192x192" href="icons/icon-192x192.svg">
    <link rel="icon" type="image/svg+xml" sizes="512x512" href="icons/icon-512x512.svg">
</head>
<body>
    <div class="game-container">
        <div class="cosmic-background"></div>
        <div class="moon"></div>
        <div class="distant-galaxies"></div>
        <div class="stars-layer-2"></div>
        <div class="stars-layer-1"></div>
        <div class="hud">
            <div>
                <span class="stat-label">üéØ Punkte:</span>
                <span class="stat-value score-value" id="score">0</span>
            </div>
            <div>
                <span class="stat-label">‚ù§Ô∏è Leben:</span>
                <span class="stat-value lives-value" id="lives">3</span>
            </div>
            <div>
                <span class="stat-label">üåä Welle:</span>
                <span class="stat-value wave-value" id="wave">1</span>
            </div>
        </div>
        <div class="powerup-status" id="powerupStatus"></div>
        <div class="player" id="player">
            <svg viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="hullGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#e8e8e8;stop-opacity:1" />
                        <stop offset="25%" style="stop-color:#d0d0d0;stop-opacity:1" />
                        <stop offset="50%" style="stop-color:#a8a8a8;stop-opacity:1" />
                        <stop offset="75%" style="stop-color:#808080;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#606060;stop-opacity:1" />
                    </linearGradient>
                    <linearGradient id="engineFlame" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
                        <stop offset="20%" style="stop-color:#00ddff;stop-opacity:1" />
                        <stop offset="60%" style="stop-color:#0088ff;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#0044aa;stop-opacity:1" />
                    </linearGradient>
                    <radialGradient id="cockpitReflection" cx="30%" cy="30%" r="70%">
                        <stop offset="0%" style="stop-color:#88ddff;stop-opacity:0.9" />
                        <stop offset="40%" style="stop-color:#4499cc;stop-opacity:0.6" />
                        <stop offset="100%" style="stop-color:#002244;stop-opacity:0.8" />
                    </radialGradient>
                    <linearGradient id="metallic" x1="0%" y1="0%" x2="100%" y2="0%">
                        <stop offset="0%" style="stop-color:#999999;stop-opacity:1" />
                        <stop offset="50%" style="stop-color:#cccccc;stop-opacity:1" />
                        <stop offset="100%" style="stop-color:#777777;stop-opacity:1" />
                    </linearGradient>
                    <filter id="glow">
                        <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                        <feMerge> 
                            <feMergeNode in="coloredBlur"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                </defs>
                <!-- Hauptrumpf mit realistischen Proportionen -->
                <path d="M30,3 L42,18 L45,35 L42,48 L35,52 L25,52 L18,48 L15,35 L18,18 Z" fill="url(#hullGradient)" stroke="#ffffff" stroke-width="1.2"/>
                <!-- Panzerplatten-Details -->
                <path d="M25,15 L35,15 L38,25 L35,35 L25,35 L22,25 Z" fill="url(#metallic)" stroke="#bbbbbb" stroke-width="0.8" opacity="0.8"/>
                <!-- Seitliche Fl√ºgel/Stabilisatoren -->
                <path d="M18,22 L8,26 L6,30 L8,34 L18,32 L20,28 L18,24 Z" fill="url(#hullGradient)" stroke="#ffffff" stroke-width="1"/>
                <path d="M42,22 L52,26 L54,30 L52,34 L42,32 L40,28 L42,24 Z" fill="url(#hullGradient)" stroke="#ffffff" stroke-width="1"/>
                <!-- Fl√ºgel-Details -->
                <rect x="10" y="28" width="8" height="2" fill="#666666" rx="1"/>
                <rect x="42" y="28" width="8" height="2" fill="#666666" rx="1"/>
                <!-- Cockpit mit realistischem Glas -->
                <ellipse cx="30" cy="18" rx="9" ry="10" fill="url(#cockpitReflection)" stroke="#88ddff" stroke-width="1.5"/>
                <ellipse cx="30" cy="16" rx="6" ry="7" fill="#001133" opacity="0.9"/>
                <!-- Cockpit-Reflexionen -->
                <ellipse cx="27" cy="14" rx="2" ry="3" fill="#ffffff" opacity="0.4"/>
                <ellipse cx="33" cy="16" rx="1.5" ry="2" fill="#88ddff" opacity="0.6"/>
                <!-- Haupttriebwerke -->
                <ellipse cx="26" cy="50" rx="4" ry="10" fill="url(#engineFlame)"/>
                <ellipse cx="34" cy="50" rx="4" ry="10" fill="url(#engineFlame)"/>
                <!-- Triebwerk-D√ºsen -->
                <ellipse cx="26" cy="48" rx="3" ry="4" fill="#333333" stroke="#666666" stroke-width="1"/>
                <ellipse cx="34" cy="48" rx="3" ry="4" fill="#333333" stroke="#666666" stroke-width="1"/>
                <!-- Waffen-Hardpoints -->
                <rect x="16" y="36" width="4" height="10" fill="#555555" stroke="#888888" stroke-width="1" rx="2"/>
                <rect x="40" y="36" width="4" height="10" fill="#555555" stroke="#888888" stroke-width="1" rx="2"/>
                <!-- Zentrale Hauptwaffe -->
                <rect x="27" y="30" width="6" height="12" fill="#444444" stroke="#777777" stroke-width="1" rx="1"/>
                <rect x="28" y="28" width="4" height="8" fill="#666666" stroke="#999999" stroke-width="0.5" rx="0.5"/>
                <!-- Navigationslights -->
                <circle cx="18" cy="24" r="2" fill="#ff3333"/>
                <circle cx="42" cy="24" r="2" fill="#33ff33"/>
                <circle cx="30" cy="8" r="1.5" fill="#ffffff"/>
                <!-- Rumpf-Linien f√ºr Details -->
                <path d="M22,20 L38,20" stroke="#bbbbbb" stroke-width="0.5" opacity="0.6"/>
                <path d="M20,30 L40,30" stroke="#bbbbbb" stroke-width="0.5" opacity="0.6"/>
                <path d="M22,40 L38,40" stroke="#bbbbbb" stroke-width="0.5" opacity="0.6"/>
                <!-- Antriebspartikel-Effekt -->
                <circle cx="26" cy="56" r="1" fill="#00aaff" opacity="0.7">
                    <animate attributeName="opacity" values="0.7;0.3;0.7" dur="0.3s" repeatCount="indefinite"/>
                </circle>
                <circle cx="34" cy="56" r="1" fill="#00aaff" opacity="0.7">
                    <animate attributeName="opacity" values="0.3;0.7;0.3" dur="0.3s" repeatCount="indefinite"/>
                </circle>
            </svg>
        </div>
        <div class="game-over" id="gameOver">
            <div>SPIEL VORBEI!</div>
            <div style="font-size: 18px; margin: 15px 0;">Endpunktzahl: <span id="finalScore">0</span></div>
            <button class="restart-btn" onclick="restartGame()">Neues Spiel</button>
        </div>
        <div class="instructions">
            Pfeiltasten zum Bewegen ‚Ä¢ Leertaste zum Schie√üen
        </div>
    </div>
</body>
        <script src="game.js"></script>
        <script>
        // Service Worker Registrierung
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('service-worker.js').then(function(reg) {
                    // Erfolgreich registriert
                }, function(err) {
                    console.warn('Service Worker konnte nicht registriert werden:', err);
                });
            });
        }
        // Install-Banner
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            const banner = document.createElement('div');
            banner.id = 'installBanner';
            banner.style.position = 'fixed';
            banner.style.bottom = '20px';
            banner.style.left = '50%';
            banner.style.transform = 'translateX(-50%)';
            banner.style.background = 'rgba(0,0,0,0.95)';
            banner.style.color = '#fff';
            banner.style.padding = '16px 32px';
            banner.style.borderRadius = '12px';
            banner.style.boxShadow = '0 2px 12px #0008';
            banner.style.zIndex = '9999';
            banner.innerHTML = 'App installieren? <button id="installBtn" style="margin-left:16px; padding:6px 18px; font-size:1em; border-radius:6px; border:none; background:#00bfff; color:#fff; cursor:pointer;">Installieren</button>';
            document.body.appendChild(banner);
            document.getElementById('installBtn').onclick = () => {
                banner.remove();
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then(() => { deferredPrompt = null; });
            };
        });
        </script>
</body>
</html>